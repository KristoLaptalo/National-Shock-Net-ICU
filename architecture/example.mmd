flowchart TB
    subgraph Client["Client Layer"]
        Web[Web App]
        Mobile[Mobile App]
    end

    subgraph Gateway["API Gateway"]
        LB[Load Balancer]
        Auth[Auth Service]
    end

    subgraph Services["Microservices"]
        UserSvc[User Service]
        OrderSvc[Order Service]
        PaymentSvc[Payment Service]
    end

    subgraph Data["Data Layer"]
        PostgreSQL[(PostgreSQL)]
        Redis[(Redis Cache)]
        S3[(S3 Storage)]
    end

    Web --> LB
    Mobile --> LB
    LB --> Auth
    Auth --> UserSvc
    Auth --> OrderSvc
    Auth --> PaymentSvc
    UserSvc --> PostgreSQL
    OrderSvc --> PostgreSQL
    PaymentSvc --> PostgreSQL
    UserSvc --> Redis
    OrderSvc --> S3
